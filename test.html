<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>jquery.platformselector.js tests</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js" type="text/javascript"></script>
  <script src="http://code.jquery.com/qunit/git/qunit.js" type="text/javascript"></script>

  <script src="jquery.platformselector.js" type="text/javascript"></script>

  <link rel="stylesheet" href="http://code.jquery.com/qunit/git/qunit.css" type="text/css" media="screen" />
</head>
<body>
  <h1 id="qunit-header">jquery.platformselector.js tests</h1>
  <h2 id="qunit-banner"></h2>
  <div id="qunit-testrunner-toolbar"></div>
  <h2 id="qunit-userAgent"></h2>
  <ol id="qunit-tests"></ol>
  <div id="qunit-fixture">test markup, will be hidden</div>

  <script type="text/javascript">
    //<![CDATA[
    (function ($) {
      QUnit.testDone = function () {
        $('body')[0].className = '';
      };

      $(function () { $('#qunit-testrunner-toolbar').append($('body')[0].className); });

      test('Body should have JavaScript class', function () {
        stop();
        setTimeout(function () {
          ok($('body').hasClass('js'), 'Body has JavaScript class applied');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify Safari 5.0.2 on Mac', function () {
        stop();
        $.platformSelector({
          userAgent: 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-us) AppleWebKit/533.18.1 (KHTML, like Gecko) Version/5.0.2 Safari/533.18.5'
        });
        setTimeout(function () {
          ok($('body').hasClass('safari'), 'Safari identified');
          ok($('body').hasClass('safari_5'), 'Safari 5 identified');
          ok($('body').hasClass('safari_5_0_2'), 'Safari 5.0.2 identified');
          ok($('body').hasClass('mac'), 'Mac identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify Safari 4.0.5 on Windows', function () {
        stop();
        $.platformSelector({
          userAgent: 'Mozilla/5.0 (Windows; U; Windows NT 6.1; en-us) AppleWebKit/531.22.7 (KHTML, like Gecko) Version/4.0.5 Safari/531.22.7'
        });
        setTimeout(function () {
          ok($('body').hasClass('safari'), 'Safari identified');
          ok($('body').hasClass('safari_4'), 'Safari 4 identified');
          ok($('body').hasClass('safari_4_0_5'), 'Safari 4.0.5 identified');
          ok($('body').hasClass('win'), 'Windows identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify Mobile Safari 4.0.5 on iPhone', function () {
        stop();
        $.platformSelector({
          userAgent: 'Mozilla/5.0 (iPhone; U; CPU iPhone OS 4_0_2 like Mac OS X; en-us) AppleWebKit/532.9 (KHTML, like Gecko) Version/4.0.5 Mobile/8A400 Safari/6531.22.7'
        });
        setTimeout(function () {
          ok($('body').hasClass('safari'), 'Safari identified');
          ok($('body').hasClass('safari_4'), 'Safari 4 identified');
          ok($('body').hasClass('safari_4_0_5'), 'Safari 4.0.5 identified');
          ok($('body').hasClass('iphone'), 'iPhone identified');
          ok($('body').hasClass('ios'), 'iOS identified');
          ok($('body').hasClass('mobile'), 'Mobile identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify Mobile Safari 4.0.5 on iPod touch', function () {
        stop();
        $.platformSelector({
          userAgent: 'Mozilla/5.0 (iPod; U; CPU iPhone OS 4_0_2 like Mac OS X; en-us) AppleWebKit/532.9 (KHTML, like Gecko) Version/4.0.5 Mobile/8A400 Safari/6531.22.7'
        });
        setTimeout(function () {
          ok($('body').hasClass('safari'), 'Safari identified');
          ok($('body').hasClass('safari_4'), 'Safari 4 identified');
          ok($('body').hasClass('safari_4_0_5'), 'Safari 4.0.5 identified');
          ok($('body').hasClass('ipod'), 'iPod identified');
          ok($('body').hasClass('ios'), 'iOS identified');
          ok($('body').hasClass('mobile'), 'Mobile identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify Mobile Safari 4.0.4 on iPad', function () {
        stop();
        $.platformSelector({
          userAgent: 'Mozilla/5.0 (iPad; U; CPU OS 3_2_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B500 Safari/531.21.10'
        });
        setTimeout(function () {
          ok($('body').hasClass('safari'), 'Safari identified');
          ok($('body').hasClass('safari_4'), 'Safari 4 identified');
          ok($('body').hasClass('safari_4_0_4'), 'Safari 4.0.4 identified');
          ok($('body').hasClass('ipad'), 'iPad identified');
          ok($('body').hasClass('ios'), 'iOS identified');
          ok($('body').hasClass('mobile'), 'Mobile identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify IE8 on Windows', function () {
        stop();
        $.platformSelector({
          userAgent: 'Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0)'
        });
        setTimeout(function () {
          ok($('body').hasClass('ie'), 'IE identified');
          ok($('body').hasClass('ie_8'), 'IE8 identified');
          ok($('body').hasClass('win'), 'Windows identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify IE7 on Windows', function () {
        stop();
        $.platformSelector({
          userAgent: 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)'
        });
        setTimeout(function () {
          ok($('body').hasClass('ie'), 'IE identified');
          ok($('body').hasClass('ie_7'), 'IE7 identified');
          ok($('body').hasClass('win'), 'Windows identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify IE6 on Windows', function () {
        stop();
        $.platformSelector({
          userAgent: 'Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1)'
        });
        setTimeout(function () {
          ok($('body').hasClass('ie'), 'IE identified');
          ok($('body').hasClass('ie_6'), 'IE6 identified');
          ok($('body').hasClass('win'), 'Windows identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify Firefox 3.6.3 on Mac', function () {
        stop();
        $.platformSelector({
          userAgent: 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.3) Gecko/20100401 Firefox/3.6.3'
        });
        setTimeout(function () {
          ok($('body').hasClass('firefox'), 'Firefox identified');
          ok($('body').hasClass('firefox_3'), 'Firefox 3 identified');
          ok($('body').hasClass('firefox_3_6_3'), 'Firefox 3.6.3 identified');
          ok($('body').hasClass('mac'), 'Mac identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify Firefox 3.6.3 on Windows', function () {
        stop();
        $.platformSelector({
          userAgent: 'Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.3) Gecko/20100401 Firefox/3.6.3'
        });
        setTimeout(function () {
          ok($('body').hasClass('firefox'), 'Firefox identified');
          ok($('body').hasClass('firefox_3'), 'Firefox 3 identified');
          ok($('body').hasClass('firefox_3_6_3'), 'Firefox 3.6.3 identified');
          ok($('body').hasClass('win'), 'Windows identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify Opera 10.53 on Mac', function () {
        stop();
        $.platformSelector({
          userAgent: 'Opera/9.80 (Macintosh; Intel Mac OS X; U; en) Presto/2.5.24 Version/10.53'
        });
        setTimeout(function () {
          ok($('body').hasClass('opera'), 'Opera identified');
          ok($('body').hasClass('opera_10'), 'Opera 10 identified');
          ok($('body').hasClass('opera_10_53'), 'Opera 10.53 identified');
          ok($('body').hasClass('mac'), 'Mac identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify Opera 10.53 on Windows', function () {
        stop();
        $.platformSelector({
          userAgent: 'Opera/9.80 (Windows NT 6.1; U; en) Presto/2.5.24 Version/10.53'
        });
        setTimeout(function () {
          ok($('body').hasClass('opera'), 'Opera identified');
          ok($('body').hasClass('opera_10'), 'Opera 10 identified');
          ok($('body').hasClass('opera_10_53'), 'Opera 10.53 identified');
          ok($('body').hasClass('win'), 'Mac identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify Blackberry (Torch 9800 user agent)', function () {
        stop();
        $.platformSelector({
          userAgent: 'Mozilla/5.0 (BlackBerry; U; BlackBerry 9800; en) AppleWebKit/534.1+ (KHTML, Like Gecko) Version/6.0.0.141 Mobile Safari/534.1+'
        });
        setTimeout(function () {
          ok($('body').hasClass('blackberry'), 'Blackberry identified');
          ok($('body').hasClass('mobile'), 'Mobile identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify Blackberry (Bold 9000 user agent)', function () {
        stop();
        $.platformSelector({
          userAgent: 'BlackBerry9000/4.6.0.167 Profile/MIDP-2.0 Configuration/CLDC-1.1 VendorID/102'
        });
        setTimeout(function () {
          ok($('body').hasClass('blackberry'), 'Blackberry identified');
          ok($('body').hasClass('mobile'), 'Mobile identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify Android (Nexus One user agent)', function () {
        stop();
        $.platformSelector({
          userAgent: 'Mozilla/5.0 (Linux; U; Android 2.2; en-us; Nexus One Build/FRF91) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1'
        });
        setTimeout(function () {
          ok($('body').hasClass('android'), 'Android identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });

      test('Should identify WebOS (Palm Pre user agent)', function () {
        stop();
        $.platformSelector({
          userAgent: 'Mozilla/5.0 (webOS/1.0; U; en-US) AppleWebKit/525.27.1 (KHTML, like Gecko) Version/1.0 Safari/525.27.1 Pre/1.0'
        });
        setTimeout(function () {
          ok($('body').hasClass('webos'), 'WebOS identified');
          ok($('body').hasClass('mobile'), 'Mobile identified');
          start();
        }, 200); // Test requires some time for the DOM to update in some browsers (e.g. Opera)
      });
    })(jQuery);
    //]]>
  </script>
</body>
</html>
